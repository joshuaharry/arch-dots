#!/bin/sh
BATTERY_STATUS="$(cat /sys/class/power_supply/BAT0/status)"
BATTERY_PERCENT="$(cat /sys/class/power_supply/BAT0/capacity)"

MESSAGE=""

case "$BATTERY_STATUS" in
    Full)
	MESSAGE+="ðŸ”Œ "
        ;;
    Charging)
	MESSAGE+="ðŸ”Œ "
        ;;
    Discharging)
	MESSAGE+="ðŸ”‹ "
        ;;
    *)
	MESSAGE+="ðŸ”‹ "
        ;;
esac

MESSAGE+="$BATTERY_PERCENT"
MESSAGE+="%"

printf "%s\n%s\n" 'battery' "$MESSAGE" | socat - ABSTRACT-CLIENT:status_socket > /dev/null 2>&1

